{"version":3,"sources":["esmartbin.png","home/Home.jsx","utils/DonorAuth.js","donor/ReadyForCollectionBins.jsx","components/UserAddressInput.jsx","donor/BinsHome.jsx","donor/DonorNotifications.jsx","donor/DonorHistory.jsx","donor/DonorNavigation.jsx","donor/DonorHomeScreen.jsx","utils/CollectorAuth.js","collector/CollectorActivity.jsx","components/NotificationSnackBar.jsx","components/MapBox.jsx","collector/CollectorNotifications.jsx","collector/CollectorHistory.jsx","collector/CollectorNavigaion.jsx","collector/CollectorHomeScreen.jsx","components/DonorLogin.jsx","components/DonorSignIn.jsx","components/CollectorSignIn.jsx","components/CollectorSignUp.jsx","Router.jsx","App.jsx","index.js"],"names":["Home","console","log","className","Stack","spacing","src","appLogo","width","alt","Grid","container","columns","item","xs","style","textDecoration","href","Button","variant","React","Component","DonorAuth","isAuthenticated","client_id","token","check","jwt","window","localStorage","getItem","axios","post","then","response","data","auth","userId","getToken","getAuth","this","getClientId","signOutUser","removeItem","ReadyForCollectionBins","props","handleClickOpen","setState","open","handleClose","renderBins","bins","state","length","List","sx","bgcolor","borderRadius","margin","map","list","onClick","ListItem","alignItems","ListItemAvatar","Avatar","name","binLogo","ListItemText","primary","secondary","Fragment","Typography","display","component","color","Box","LinearProgress","renderModal","Dialog","fullScreen","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","autoFocus","binToCollect","binName","date","Date","time","value","binSelected","params","binsArray","UserAddressInput","addUserAddressSubmit","e","a","preventDefault","isLoading","address","target","body","donorId","did","isAdded","isDisabled","onSubmit","Input","loading","type","placeholder","action","disabled","positive","BinsHome","openModal","binId","Number","currentTarget","forEach","bin","handleRequest","isSent","renderUserModal","openUserModal","firstName","lastName","uid","account","residential_address","firstname","lastname","paddingTop","rowSpacing","columnSpacing","sm","md","binImg","DonorNotifications","viewNotification","notifications","isAvailable","severity","AlertTitle","first_name","last_name","DonorHistory","renderHistory","moment","date_time","fromNow","donorName","binTypes","get","history","DonorNavigation","setValue","ref","current","ownerDocument","scrollTop","pb","CssBaseline","screen","renderScreen","Paper","position","bottom","left","right","elevation","BottomNavigation","backgroundColor","showLabels","onChange","event","newValue","BottomNavigationAction","label","icon","DonorHomeScreen","Container","fixed","CollectorAuth","Demo","styled","theme","palette","background","paper","CollectorActivity","refresh","timer2","setTimeout","isEmpty","setInterval","timer1","clearTimeout","readyBins","collector","viewRequests","donors","waste_donor_id","handleAccept","collectorId","binTypeId","dense","Alert","NotificationSnackBar","cid","setOpen","handleClick","isEnded","reason","LoadingButton","startIcon","Snackbar","autoHideDuration","mapboxgl","accessToken","MapBox","lng","lat","zoom","start","mapContainer","createRef","Map","center","directions","MapboxDirections","unit","profile","addControl","on","getCenter","toFixed","getZoom","phone","PureComponent","CollectorNotifications","viewNotifications","lenght","cell_number","CollectorHistory","CollectorNavigation","CollectorHomeScreen","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","DonorLogin","loginSubmit","recaptchaVerifier","RecaptchaVerifier","password","newPhone","trim","slice","appVerifier","signInWithPhoneNumber","confirmationResult","viewOtpForm","donorLastName","donorPassword","donorPhoneNumber","catch","error","alert","message","otpSubmit","optCode","otp","confirm","phoneNumber","isCreated","to","textAlign","height","verticalAlign","Column","maxWidth","Header","as","Image","Form","size","Segment","stacked","fluid","onFocus","iconPosition","autoComplete","pattern","title","DonorSignIn","user","currentUser","firebasePhone","setItem","isError","errorMsg","Message","attached","negative","CollectorSignIn","CollectorSignUp","collectorName","collectorLastName","collectorPassword","collectorPhoneNumber","Router","path","DonorPrivateRoute","rest","render","pathname","CollectorPrivateRoute","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8442e201.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/esmartbin.695ee95d.png\";","import React from \"react\";\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport appLogo from '../esmartbin.png';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nexport default class Home extends React.Component {\r\n    render() {\r\n        console.log(\"home route running\");\r\n        return (\r\n            <div className='center'>\r\n                <div>\r\n                    <Stack spacing={10}>\r\n                        <div>\r\n                            <h2>One's man trash is another man's opportunity</h2>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <img src={appLogo} width='200' alt=\"\" />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Grid container spacing={2} columns={16}>\r\n                                <Grid item xs={8}>\r\n                                    <a style={{ textDecoration: 'none' }} href=\"/#/donor/app\">\r\n                                        <Button className='btn1' variant=\"contained\">Waste donor</Button>\r\n                                    </a>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <a style={{ textDecoration: 'none' }} href=\"/#/collector/app\">\r\n                                        <Button className='btn1' variant=\"contained\">Waste collector</Button>\r\n                                    </a>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </div>\r\n                    </Stack>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import axios from \"axios\";\r\n\r\nconst DonorAuth = {\r\n    isAuthenticated: false,\r\n    client_id: 0,\r\n    token: '',\r\n\r\n    async check() {\r\n        let jwt = {\r\n            token: ''\r\n        }\r\n        jwt.token = window.localStorage.getItem('sudo');\r\n        if (jwt.token) {\r\n            await axios.post('/verify/donor/token', jwt)\r\n                .then(response => {\r\n                    if (response.data.auth) {\r\n                        this.isAuthenticated = true;\r\n                        this.client_id = response.data.userId;\r\n                    } else {\r\n                        console.log('user not signed in');\r\n                    }\r\n                });\r\n\r\n        } else {\r\n\r\n        }\r\n    },\r\n\r\n    getToken() {\r\n\r\n    },\r\n\r\n    getAuth() {\r\n        return this.isAuthenticated;\r\n        // return true\r\n    },\r\n\r\n    getClientId() {\r\n        return this.client_id;\r\n        // return 11;\r\n    },\r\n\r\n    signOutUser() {\r\n        window.localStorage.removeItem('sudo');\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default DonorAuth;","import React from \"react\";\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Typography from '@mui/material/Typography';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport Box from '@mui/material/Box';\r\nimport axios from 'axios';\r\nimport binLogo from '../esmartbin.png';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DonorAuth from \"../utils/DonorAuth\";\r\n\r\nexport default class ReadyForCollectionBins extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bins: [],\r\n            userId: DonorAuth.getClientId(),\r\n            binToCollect: [],\r\n            open: false,\r\n            binName: '',\r\n            date: new Date(),\r\n            time: '',\r\n            value: '',\r\n            binSelected: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { userId } = this.state;\r\n        let params = {\r\n            userId\r\n        };\r\n        axios.post(`/donor/get/requests`, params)\r\n            .then(response => {\r\n                let binsArray = response.data;\r\n                this.setState({ bins: binsArray.bins });\r\n            });\r\n    }\r\n\r\n    handleClickOpen = () => {\r\n        this.setState({ open: true })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    renderBins = () => {\r\n        let { bins } = this.state;\r\n        if (bins.length !== 0) {\r\n            return <List className='center' sx={{ width: '95%', bgcolor: 'rgba(82, 183, 136, 0.74)', borderRadius: '12px', margin: '12px' }}>\r\n                {bins.map((list) => (\r\n                    <div onClick={this.handleClickOpen}>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <Avatar alt={list.name} src={binLogo} />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={`${list.name} waste`}\r\n                                secondary={\r\n                                    <React.Fragment>\r\n                                        <Typography\r\n                                            sx={{ display: 'inline' }}\r\n                                            component=\"span\"\r\n                                            variant=\"body2\"\r\n                                            color=\"text.primary\"\r\n                                        >\r\n                                            Waiting for collector\r\n                                        </Typography>\r\n                                        {\" — The waste collector will come for pick-up...\"}\r\n                                    </React.Fragment>\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                        <Box sx={{ width: '100%' }}>\r\n                            <LinearProgress color='info' />\r\n                        </Box>\r\n                        \r\n                    </div>\r\n                ))}\r\n\r\n            </List >\r\n        } else {\r\n            return <h4 className='center'>No bins available</h4>\r\n        }\r\n    }\r\n\r\n\r\n    renderModal = () => {\r\n        return (\r\n            <div>\r\n                <Dialog\r\n                    fullScreen={this.state.fullScreen}\r\n                    open={this.state.open}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"responsive-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"responsive-dialog-title\">\r\n                        {\"Schedule pick-up?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Below you can schedule a date for your pick-up\r\n                            <hr />\r\n                            {/* <WasteSchedular /> */}\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button autoFocus onClick={this.handleClose}>\r\n                            Cancel pick-up\r\n                        </Button>\r\n                        <Button onClick={this.handleClose} autoFocus>\r\n                            Agree\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h3 className='center'>Bins scheduled for pick-up</h3>\r\n                {this.renderBins()}\r\n                {this.renderModal()}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Input } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\n\r\nexport default class UserAddressInput extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            isDisabled: false\r\n        }\r\n    }\r\n\r\n    addUserAddressSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ isLoading: true });\r\n        let address = e.target.address.value;\r\n        if (address) {\r\n            let body = { address, donorId: this.props.did }\r\n            await axios.post('/donor/add/address', body).then(response => {\r\n                if (response.data.isAdded) {\r\n                    this.setState({ isLoading: false, isDisabled: true });\r\n                } else { \r\n                    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { isLoading, isDisabled } = this.state;\r\n        return (\r\n            <form onSubmit={this.addUserAddressSubmit}>\r\n                <Input loading name='address' type='text' placeholder='Address. . . .' action>\r\n                    <input />\r\n                    <Button disabled={isDisabled} loading={isLoading} type='submit' positive>Add</Button>\r\n                </Input>\r\n            </form>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport binImg from '../esmartbin.png';\r\nimport axios from 'axios';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DonorAuth from \"../utils/DonorAuth\";\r\nimport UserAddressInput from \"../components/UserAddressInput\";\r\n\r\n\r\nexport default class BinsHome extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            bins: [],\r\n            binName: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            userId: DonorAuth.getClientId(),\r\n            binToCollect: [],\r\n            isLoading: false,\r\n            openUserModal: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let body = { uid: this.state.userId }\r\n        await axios.post(`/donor/home`, body)\r\n            .then(response => {\r\n                console.log(response.data.account);\r\n                let binsArray = response.data;\r\n                if (!response.data.account.residential_address) {\r\n                    console.log('empty');\r\n                    this.setState({ openUserModal: true })\r\n                }\r\n                this.setState({ bins: binsArray.bins, firstName: binsArray.account.firstname, lastName: binsArray.account.lastname });\r\n            });\r\n    }\r\n\r\n    handleClickOpen = () => {\r\n        this.setState({ open: true })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    openModal = (e) => {\r\n        let { bins } = this.state;\r\n        this.setState({ open: true });\r\n        const binId = Number(e.currentTarget.id);\r\n        bins.forEach(bin => {\r\n            if (bin.id === binId) {\r\n                this.setState({ binName: bin.name, binToCollect: bin });\r\n            }\r\n        });\r\n    }\r\n\r\n    handleRequest = async () => {\r\n        let { binToCollect, userId } = this.state;\r\n        this.setState({ open: false });\r\n        let params = {\r\n            userId: userId,\r\n            binId: binToCollect.id\r\n        }\r\n        if (binToCollect.length !== 0) {\r\n            await axios.post('/donor/send/request', params)\r\n                .then(response => {\r\n                    if (response.data.isSent) {\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    renderModal = () => {\r\n        return (\r\n            <div>\r\n\r\n                <Dialog\r\n                    fullScreen={this.state.fullScreen}\r\n                    open={this.state.open}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"responsive-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"responsive-dialog-title\">\r\n                        {\"Send request for pick-up?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Send the request for collectors near you to come and pick-up your waste bin\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose}>\r\n                            Cancel request\r\n                        </Button>\r\n                        <Button onClick={this.handleRequest} >\r\n                            Agree\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderUserModal = () => {\r\n        return (\r\n            <div>\r\n\r\n                <Dialog\r\n                    fullScreen={this.state.fullScreen}\r\n                    open={this.state.openUserModal}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"responsive-dialog-title\"\r\n                >\r\n                    <DialogTitle id=\"responsive-dialog-title\">\r\n                        {\"Residential Address Request?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            eSmart is requires your residential address for the best experiance on the app.\r\n                        </DialogContentText>\r\n                        <UserAddressInput did={this.state.userId} />\r\n                    </DialogContent>\r\n                    {/* <DialogActions>\r\n                        <Button onClick={this.handleClose}>\r\n                            Cancel request\r\n                        </Button>\r\n                        <Button onClick={this.handleRequest} >\r\n                            Agree\r\n                        </Button>\r\n                    </DialogActions> */}\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    render() {\r\n        let { bins, firstName } = this.state;\r\n        return (\r\n            <div>\r\n                <h3 className='center'>Welcome to eSmart {firstName}</h3>\r\n                <Box className='center' sx={{ width: '100%', paddingTop: '30%' }}>\r\n                    <Grid container rowSpacing={1} columnSpacing={{ xs: 1, sm: 2, md: 3 }}>\r\n                        {bins.map((list) => (\r\n                            <Grid item xs={6} key={list.id}>\r\n                                <div className='block center' id={list.id} onClick={this.openModal}>\r\n                                    <p><strong>{list.name}</strong></p>\r\n                                    <img src={binImg} width='95' alt=\"\" />\r\n                                </div>\r\n                            </Grid>\r\n                        ))}\r\n                    </Grid>\r\n                </Box >\r\n                {/* <Box sx={{ width: '100%' }}>\r\n                    <h5 className=\"center\">Please wait..</h5>\r\n                    <LinearProgress color=\"success\" />\r\n                </Box> */}\r\n                {this.renderModal()}\r\n                {this.renderUserModal()}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport DonorAuth from \"../utils/DonorAuth\";\r\nimport Alert from '@mui/material/Alert';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nexport default class DonorNotifications extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            did: DonorAuth.getClientId(),\r\n            viewNotification: false,\r\n            notifications: []\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let body = { donorId: this.state.did };\r\n        await axios.post('/donor/notifications', body).then(response => {\r\n            if (response.data.isAvailable) {\r\n                console.log();\r\n                this.setState({ notifications: response.data.notifications[0], viewNotification: response.data.isAvailable });\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { viewNotification, notifications } = this.state;\r\n        return (\r\n            <div className='center'>\r\n                <h3>Notifications</h3>\r\n                <Stack sx={{ width: '100%', borderRadius: '12px' }} spacing={2}>\r\n                    {viewNotification ? (\r\n                        <Alert onClick={this.handleClickOpen} sx={{ borderRadius: '12px' }} severity=\"info\">\r\n                            <AlertTitle>{`${notifications.first_name} ${notifications.last_name}`} </AlertTitle>\r\n                            Is on they way — <strong>open</strong>\r\n                        </Alert>\r\n                    ) : (\r\n                        <h5 className=\"center\">You have no latest notifications</h5>\r\n                    )}\r\n                </Stack>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Typography from '@mui/material/Typography';\r\nimport axios from 'axios';\r\nimport moment from \"moment\";\r\n\r\n\r\nexport default class DonorHistory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bins: [],\r\n            userId: 0,\r\n            open: false,\r\n            binName: '',\r\n            donorName: '',\r\n            binTypes: [],\r\n            donorId: 0\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let params = {\r\n            donorId: this.state.userId\r\n        }\r\n        await axios.get(`/donor/history/${params.donorId}`, params)\r\n            .then(response => {\r\n                let binsArray = response.data;\r\n                console.log(binsArray);\r\n                this.setState({ bins: binsArray.history });\r\n            });\r\n    }\r\n\r\n    renderHistory = () => {\r\n        let { bins } = this.state;\r\n        if (bins.length !== 0) {\r\n            return (\r\n                <div>\r\n                    <h3 className='center'>History</h3>\r\n                    <List className='center' sx={{ width: '100%', bgcolor: 'rgba(82, 183, 136, 0.74)', borderRadius: '12px' }}>\r\n                        {bins.map((list) => (\r\n                            <div>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Avatar alt={list.first_name} src='/static/images/avatar/1.jpg' />\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={`${list.first_name + \" \" + list.last_name}`}\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Typography\r\n                                                    sx={{ display: 'inline' }}\r\n                                                    component=\"span\"\r\n                                                    variant=\"body2\"\r\n                                                    color=\"text.primary\"\r\n                                                >\r\n                                                    Collected\r\n                                                </Typography>\r\n                                                {` — ${list.name} waste`}\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                    <ListItemText secondary={moment(list.date_time).fromNow()} />\r\n                                </ListItem>\r\n\r\n                            </div>\r\n                        ))}\r\n                    </List >\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <h3 className='center'>No pick up history</h3>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderHistory()}\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport FavoriteIcon from '@mui/icons-material/DeleteSweep';\r\n// import ArchiveIcon from '@mui/icons-material/Restore';\r\nimport Paper from '@mui/material/Paper';\r\nimport Notifications from '@mui/icons-material/Notifications';\r\nimport ReadyForCollectionBins from './ReadyForCollectionBins';\r\nimport BinsHome from './BinsHome';\r\nimport DonorNotifications from './DonorNotifications';\r\nimport DonorHistory from './DonorHistory';\r\n\r\n\r\nexport default function DonorNavigation() {\r\n    const [value, setValue] = React.useState('home');\r\n    const ref = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        ref.current.ownerDocument.body.scrollTop = 0;\r\n    }, [value]);\r\n\r\n    const renderScreen = () => {\r\n        let screen = '';\r\n\r\n        switch (value) {\r\n            case 'home':\r\n                screen = <BinsHome />\r\n                break;\r\n            case 'bins':\r\n                screen = <ReadyForCollectionBins />\r\n                break;\r\n            case 'history':\r\n                screen = <DonorHistory />\r\n                break;\r\n            case 'notifications':\r\n                screen = <DonorNotifications />\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        return (\r\n            screen\r\n        );\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Box sx={{ pb: 7 }} ref={ref}>\r\n            <CssBaseline />\r\n            {renderScreen()}\r\n            <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n                <BottomNavigation\r\n                    style={{ backgroundColor: 'rgba(196, 196, 196, 0.74)' }}\r\n                    showLabels\r\n                    value={value}\r\n                    onChange={(event, newValue) => {\r\n                        setValue(newValue);\r\n                    }}\r\n                >\r\n                    <BottomNavigationAction value='home' label=\"Home\" icon={<HomeIcon />} />\r\n                    <BottomNavigationAction value='bins' label=\"Bins\" icon={<FavoriteIcon />} />\r\n                    <BottomNavigationAction value='notifications' label=\"Notifications\" icon={<Notifications />} />\r\n                    {/* <BottomNavigationAction value='history' label=\"History\" icon={<ArchiveIcon />} /> */}\r\n                </BottomNavigation>\r\n            </Paper>\r\n        </Box>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Container from '@mui/material/Container';\r\nimport DonorNavigation from \"./DonorNavigation\";\r\n\r\nexport default class DonorHomeScreen extends React.Component {\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <CssBaseline />\r\n                <DonorNavigation />\r\n                <Container fixed>\r\n                </Container>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import axios from \"axios\";\r\n\r\nconst CollectorAuth = {\r\n    isAuthenticated: false,\r\n    client_id: 0,\r\n    token: '',\r\n\r\n    async check() {\r\n        let jwt = {\r\n            token: ''\r\n        }\r\n        jwt.token = window.localStorage.getItem('cid');\r\n        if (jwt.token) {\r\n            await axios.post('/verify/collector/token', jwt)\r\n                .then(response => {\r\n                    if (response.data.auth) {\r\n                        this.isAuthenticated = true;\r\n                        this.client_id = response.data.userId;\r\n                    }\r\n                });\r\n\r\n        } else {\r\n\r\n        }\r\n    },\r\n\r\n    getToken() {\r\n\r\n    },\r\n\r\n    getAuth() {\r\n        return this.isAuthenticated;\r\n        // return true\r\n    },\r\n\r\n    getClientId() {\r\n        return this.client_id;\r\n        // return 10;\r\n    },\r\n\r\n    signOutUser() {\r\n        window.localStorage.removeItem('cid');\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CollectorAuth;","import React from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport LinearProgress from \"@mui/material/LinearProgress\";\r\nimport Box from \"@mui/material/Box\";\r\nimport axios from \"axios\";\r\nimport binLogo from \"../esmartbin.png\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport CollectorAuth from \"../utils/CollectorAuth\";\r\n\r\nconst Demo = styled(\"div\")(({ theme }) => ({\r\n  backgroundColor: theme.palette.background.paper\r\n}));\r\n\r\nexport default class CollectorActivity extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bins: [],\r\n      userId: CollectorAuth.getClientId(),\r\n      open: false,\r\n      binName: \"\",\r\n      donorName: \"\",\r\n      binTypes: [],\r\n      donorId: 0,\r\n      viewRequests: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.refresh();\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    clearTimeout(this.timer2);\r\n    clearTimeout(this.timer1);\r\n  }\r\n\r\n  refresh = async () => {\r\n    let params = { id: this.state.userId };\r\n    this.timer2 = setTimeout(async () => {\r\n      await axios.post(`/bins/full`, params).then(async response => {\r\n        let data = response.data;\r\n        if (data.isEmpty) {\r\n          this.timer1 = setInterval(await this.refresh(), 1000);\r\n        } else {\r\n          clearTimeout(this.timer2);\r\n          clearTimeout(this.timer1);\r\n          this.setState({ bins: data.readyBins, userId: response.data.collector.id, viewRequests: true });\r\n        }\r\n      });\r\n    }, 1000)\r\n  }\r\n\r\n\r\n  handleClickOpen = e => {\r\n    let { bins } = this.state;\r\n    this.setState({ open: true });\r\n    let donorId = Number(e.currentTarget.id);\r\n    bins.forEach(donors => {\r\n      if (donors.id === donorId) {\r\n        let params = {\r\n          donorId\r\n        };\r\n        axios.post(\"/accept/request\", params).then(response => {\r\n          this.setState({\r\n            binTypes: response.data.bins,\r\n            donorId: response.data.bins[0].waste_donor_id\r\n          });\r\n        });\r\n        this.setState({\r\n          donorName: `${donors.firstname + \" \" + donors.lastname}`\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  handleAccept = () => {\r\n    let { binTypes, userId, donorId } = this.state;\r\n    this.setState({ open: false });\r\n    let params = {\r\n      donorId: donorId,\r\n      collectorId: userId,\r\n      binTypeId: binTypes\r\n    };\r\n    axios.post(\"/collect\", params);\r\n  };\r\n\r\n  renderModal = () => {\r\n    let { binTypes, donorName } = this.state;\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          fullScreen={this.state.fullScreen}\r\n          open={this.state.open}\r\n          onClose={this.handleAccept}\r\n          aria-labelledby=\"responsive-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"responsive-dialog-title\">\r\n            {\"Accept request?\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              <strong>{donorName}</strong> Has the following bins\r\n              <Grid item xs={12} md={6}>\r\n                <Demo>\r\n                  <List dense={true}>\r\n                    {binTypes.map(list =>\r\n                      <ListItem>\r\n                        <ListItemAvatar>\r\n                          <Avatar src={binLogo} />\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                          primary={`${list.name} waste`}\r\n                          // secondary={\"Secondary text\"}\r\n                        />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </Demo>\r\n              </Grid>\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose}>close</Button>\r\n            <Button onClick={this.handleAccept}>accept</Button>\r\n            {/* <NotificationSnackBar open={true} /> */}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let { viewRequests, bins } = this.state;\r\n    return (\r\n      <div>\r\n        <h3 className=\"center\">Bins available for pick-up</h3>\r\n        {viewRequests ? (\r\n          <>\r\n            {bins.map(list =>\r\n              <List key={list.id} className=\"center\" sx={{\r\n                width: '95%', bgcolor: 'rgba(82, 183, 136, 0.74)', borderRadius: '12px', margin: '12px'\r\n              }}>\r\n                <div id={list.id} onClick={this.handleClickOpen}>\r\n                  <ListItem alignItems=\"flex-start\">\r\n                    <ListItemAvatar>\r\n                      <Avatar\r\n                        alt={list.firstname}\r\n                      />\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                      primary={`${list.firstname + \" \" + list.lastname}`}\r\n                      secondary={\r\n                        <React.Fragment>\r\n                          <Typography\r\n                            sx={{ display: \"inline\" }}\r\n                            component=\"span\"\r\n                            variant=\"body2\"\r\n                            color=\"text.primary\"\r\n                          >\r\n                            Ready for collection\r\n                          </Typography>\r\n                          {\r\n                            \" — This bin is full and is ready for pick-up. Select to accept request\"\r\n                          }\r\n                        </React.Fragment>\r\n                      }\r\n                    />\r\n                  </ListItem>\r\n                  <Box sx={{ width: \"100%\" }}>\r\n                    <LinearProgress color=\"info\" />\r\n                  </Box>\r\n                </div>\r\n              </List>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <h5 className=\"center\">No bins available for collection</h5>\r\n        )}\r\n        {this.renderModal()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport axios from 'axios';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport default function NotificationSnackBar({ cid }) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClick = async () => {\r\n        let body = { cid }\r\n        await axios.post('/end/trip', body).then(response => {\r\n            console.log(response.data);\r\n            if (response.data.isEnded) {\r\n                setOpen(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Stack spacing={2} sx={{ width: '100%' }}>\r\n                <LoadingButton loading={open} onClick={handleClick} color='warning' startIcon={<ExitToAppIcon />} >\r\n                    End trip\r\n                </LoadingButton>\r\n                <Snackbar open={open} autoHideDuration={5000} onClose={handleClose}>\r\n                    <Alert onClose={handleClose} severity=\"success\" sx={{ width: '100%' }}>\r\n                        The trip has been ended successfully.\r\n                    </Alert>\r\n                </Snackbar>\r\n            </Stack>\r\n        </div>\r\n    );\r\n}\r\n","import mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\nimport React from 'react';\r\nimport MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions';\r\nimport '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport PinDropIcon from '@mui/icons-material/PinDrop';\r\nimport NotificationSnackBar from './NotificationSnackBar';\r\nimport CallIcon from '@mui/icons-material/Call';\r\n\r\n\r\nmapboxgl.accessToken = 'pk.eyJ1Ijoic2J1ZGljdGlvbiIsImEiOiJja281bnI5ZmYxdXNuMnJwZ3l2MWJ2eW84In0.P4hFPkV_mY0TKw3AQ0lzfA';\r\n\r\nexport default class MapBox extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lng: -26.2054,\r\n            lat: 28.0396,\r\n            zoom: 15,\r\n            start: [28.10070, -26.00242]\r\n        };\r\n        this.mapContainer = React.createRef();\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const { zoom } = this.state;\r\n        const map = new mapboxgl.Map({\r\n            container: this.mapContainer.current,\r\n            style: 'mapbox://styles/mapbox/streets-v11',\r\n            center: [28.10070, -26.00242],\r\n            zoom: zoom,\r\n        });\r\n\r\n\r\n        const directions = new MapboxDirections({\r\n            accessToken: mapboxgl.accessToken,\r\n            unit: 'metric',\r\n            profile: 'mapbox/driving',\r\n        });\r\n\r\n        map.addControl(directions, 'top-left');\r\n\r\n        // Add geolocate control to the map.\r\n        // map.addControl(\r\n        //     new mapboxgl.GeolocateControl({\r\n        //         positionOptions: {\r\n        //             enableHighAccuracy: true\r\n        //         },\r\n        //         // When active the map will receive updates to the device's location as it changes.\r\n        //         trackUserLocation: true,\r\n        //         // Draw an arrow next to the location dot to indicate which direction the device is heading.\r\n        //         showUserHeading: true\r\n        //     })\r\n        // );\r\n\r\n\r\n        map.on('move', () => {\r\n            this.setState({\r\n                lng: map.getCenter().lng.toFixed(4),\r\n                lat: map.getCenter().lat.toFixed(4),\r\n                zoom: map.getZoom().toFixed(2)\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div ref={this.mapContainer} className=\"map-container\" />\r\n                <div className=\"sidebar\">\r\n                    <PinDropIcon color='error' />{this.props.address}  <NotificationSnackBar cid={this.props.cid} />\r\n                    <a href={`tel:${this.props.phone}`}><CallIcon /> Make a call</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport axios from 'axios';\r\nimport CollectorAuth from '../utils/CollectorAuth';\r\nimport MapBox from '../components/MapBox';\r\n\r\nexport default class CollectorNotifications extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            notifications: [],\r\n            cid: CollectorAuth.getClientId(),\r\n            viewNotifications: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let params = { collectorId: this.state.cid }\r\n        await axios.post(`/collector/notifications`, params).then(response => {\r\n            if (response.data.isAvailable) {\r\n                console.log(response.data);\r\n                this.setState({ notifications: response.data.notifications.lenght ? 2 : response.data.notifications[0], viewNotifications: response.data.isAvailable });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { viewNotifications, notifications } = this.state;\r\n        return (\r\n            <div className='center'>\r\n                {/* <h3>Notifications</h3> */}\r\n                <Stack sx={{ width: '100%', borderRadius: '12px' }} spacing={2}>\r\n                    {viewNotifications ? (\r\n                        // <Alert onClick={this.handleClickOpen} sx={{ borderRadius: '12px' }} severity=\"info\">\r\n                        //     <AlertTitle>{`${notifications.firstname} ${notifications.lastname}`} </AlertTitle>\r\n                        //     Is waiting for you to collect thier waste — <strong>open</strong>\r\n                        // </Alert>\r\n                        <MapBox address={notifications.residential_address} phone={notifications.cell_number} cid={this.state.cid} />\r\n\r\n                    ) : (\r\n                        <h5 className=\"center\">You have no latest notifications</h5>\r\n                    )}\r\n                </Stack>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Typography from '@mui/material/Typography';\r\nimport axios from 'axios';\r\nimport moment from \"moment\";\r\n\r\n\r\nexport default class CollectorHistory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            bins: [],\r\n            userId: 0,\r\n            open: false,\r\n            binName: '',\r\n            donorName: '',\r\n            binTypes: [],\r\n            donorId: 0\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let params = {\r\n            collectorId: 8\r\n        }\r\n        await axios.get(`/collector/history/${params.collectorId}`)\r\n            .then(response => {\r\n                let binsArray = response.data;\r\n                this.setState({ bins: binsArray.history });\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        let { bins } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h3 className='center'>History</h3>\r\n                <List className='center' sx={{ width: '100%', bgcolor: 'rgba(82, 183, 136, 0.74)', borderRadius: '12px' }}>\r\n                    {bins.map((list) => (\r\n                        <div>\r\n                            <ListItem alignItems=\"flex-start\">\r\n                                <ListItemAvatar>\r\n                                    <Avatar alt={list.firstname} src='/static/images/avatar/1.jpg' />\r\n                                </ListItemAvatar>\r\n                                <ListItemText\r\n                                    primary={`${list.firstname + \" \" + list.lastname}`}\r\n                                    secondary={\r\n                                        <React.Fragment>\r\n                                            <Typography\r\n                                                sx={{ display: 'inline' }}\r\n                                                component=\"span\"\r\n                                                variant=\"body2\"\r\n                                                color=\"text.primary\"\r\n                                            >\r\n                                                Collected\r\n                                            </Typography>\r\n                                            {` — ${list.name} waste`}\r\n                                        </React.Fragment>\r\n                                    }\r\n                                />\r\n                                <ListItemText secondary={moment(list.date_time).fromNow()} />\r\n                            </ListItem>\r\n\r\n                        </div>\r\n                    ))}\r\n                </List >\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport FavoriteIcon from '@mui/icons-material/Notifications';\r\n// import ArchiveIcon from '@mui/icons-material/Restore';\r\nimport Paper from '@mui/material/Paper';\r\nimport CollectorActivity from './CollectorActivity';\r\nimport CollectorNotifications from './CollectorNotifications';\r\nimport CollectorHistory from './CollectorHistory';\r\n\r\n\r\nexport default function CollectorNavigation() {\r\n    const [value, setValue] = React.useState('home');\r\n    const ref = React.useRef(null);\r\n\r\n    React.useEffect(() => {\r\n        ref.current.ownerDocument.body.scrollTop = 0;\r\n    }, [value]);\r\n\r\n    const renderScreen = () => {\r\n        let screen = '';\r\n\r\n        switch (value) {\r\n            case 'home':\r\n                screen = <CollectorActivity />\r\n                break;\r\n            case 'notifications':\r\n                screen = <CollectorNotifications />\r\n                break;\r\n            case 'history':\r\n                screen = <CollectorHistory />\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        return (\r\n            screen\r\n        );\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Box sx={{ pb: 7 }} ref={ref}>\r\n            <CssBaseline />\r\n            {renderScreen()}\r\n            <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n                <BottomNavigation\r\n                    style={{ backgroundColor: 'rgba(196, 196, 196, 0.74)' }}\r\n                    showLabels\r\n                    value={value}\r\n                    onChange={(event, newValue) => {\r\n                        setValue(newValue);\r\n                    }}\r\n                >\r\n                    <BottomNavigationAction value='home' label=\"Home\" icon={<HomeIcon />} />\r\n                    <BottomNavigationAction value='notifications' label=\"Notifications\" icon={<FavoriteIcon />} />\r\n                    {/* <BottomNavigationAction value='history' label=\"History\" icon={<ArchiveIcon />} /> */}\r\n                </BottomNavigation>\r\n            </Paper>\r\n        </Box>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Container from '@mui/material/Container';\r\nimport CollectorNavigation from \"./CollectorNavigaion\";\r\nexport default class CollectorHomeScreen extends React.Component {\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <CssBaseline />\r\n                <CollectorNavigation />\r\n                <Container fixed>\r\n                </Container>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Form, Grid, Header, Image, Segment, Input, } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport binImg from '../esmartbin.png';\r\nimport { getAuth, signInWithPhoneNumber, RecaptchaVerifier } from 'firebase/auth';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router';\r\nimport DonorAuth from '../utils/DonorAuth';\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC6G46Jang8fkPnhYUI6UVvI6G8FjcQ44A\",\r\n    authDomain: \"esmart-e6ed0.firebaseapp.com\",\r\n    projectId: \"esmart-e6ed0\",\r\n    storageBucket: \"esmart-e6ed0.appspot.com\",\r\n    messagingSenderId: \"1027784695916\",\r\n    appId: \"1:1027784695916:web:5b16914c3325133b607849\"\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\nconst auth = getAuth();\r\nexport default class DonorLogin extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            viewOtpForm: false,\r\n            donorName: '',\r\n            donorLastName: '',\r\n            donorPassword: '',\r\n            donorPhoneNumber: '',\r\n            isAuthenticated: false\r\n        };\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await DonorAuth.check();\r\n        this.setState({ isAuthenticated: DonorAuth.getAuth() });\r\n    }\r\n\r\n\r\n    loginSubmit = (e) => {\r\n        e.preventDefault();\r\n        window.recaptchaVerifier = new RecaptchaVerifier('sendCode', {\r\n            'size': 'invisible',\r\n            'callback': (response) => {\r\n                // reCAPTCHA solved, allow signInWithPhoneNumber.\r\n                // onSignInSubmit();\r\n                console.log(response);\r\n            }\r\n        }, auth);\r\n\r\n        let firstName = e.target.firstName.value;\r\n        let lastName = e.target.lastName.value;\r\n        let password = e.target.password.value;\r\n        let phoneNumber = e.target.phone.value;\r\n        let newPhone = phoneNumber.trim();\r\n        newPhone = newPhone.slice(1, newPhone.length);\r\n        newPhone = '+27' + newPhone.trim();\r\n        const appVerifier = window.recaptchaVerifier;\r\n\r\n        signInWithPhoneNumber(auth, newPhone, appVerifier).then(confirmationResult => {\r\n            this.setState({ viewOtpForm: true, donorName: firstName, donorLastName: lastName, donorPassword: password, donorPhoneNumber: newPhone });\r\n            window.confirmationResult = confirmationResult;\r\n        }).catch(error => {\r\n            alert(error.message);\r\n        });\r\n    }\r\n\r\n    otpSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { donorName, donorLastName, donorPassword, donorPhoneNumber } = this.state;\r\n        let optCode = e.target.otp.value;\r\n        window.confirmationResult.confirm(optCode).then(confirmationResult => {\r\n            let body = {\r\n                firstName: donorName,\r\n                lastName: donorLastName,\r\n                password: donorPassword,\r\n                phoneNumber: donorPhoneNumber\r\n            }\r\n            axios.post('/donor/register', body).then(response => {\r\n                if (response.data.isCreated) {\r\n                    this.setState({ isAuthenticated: true });\r\n                }\r\n            })\r\n        }).catch(error => {\r\n            alert(error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { viewOtpForm, isAuthenticated } = this.state;\r\n        if (isAuthenticated) {\r\n            return <Redirect to='/donor/signin' />\r\n        }\r\n        return (\r\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n                <Grid.Column style={{ maxWidth: 450 }}>\r\n                    <Header as='h2' color='teal' textAlign='center'>\r\n                        <Image src={binImg} /> Register as a donor\r\n                    </Header>\r\n                    {!viewOtpForm ? (\r\n                        <>\r\n                            <Form size='large' onSubmit={this.loginSubmit} >\r\n                                <Segment stacked>\r\n                                    <Form.Input fluid icon='user' type='text' autoComplete='false' iconPosition='left' placeholder='First name' name='firstName' />\r\n                                    <Form.Input fluid icon='user' type='text' autoComplete='false' iconPosition='left' placeholder='Last name' name='lastName' />\r\n                                    <Form.Input fluid icon='lock' type='password' autoComplete='false' iconPosition='left' placeholder='Password' name='password' />\r\n                                    <Input label='+27' fluid type='text' autoComplete='false' placeholder='Phone' name='phone' pattern='[0-9]{10}' title='example: 0622635825' />\r\n                                    <div style={{ paddingTop: '5%' }}></div>\r\n                                    <Button id='sendCode' color='teal' fluid size='large' type='submit'>\r\n                                        SignUp\r\n                                    </Button>\r\n                                </Segment>\r\n                            </Form>\r\n                            {/* <Message>\r\n                                New to us? <a href='#'>Sign Up</a>\r\n                            </Message> */}\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Form size='large' onSubmit={this.otpSubmit}>\r\n                                <Segment stacked>\r\n                                    <Form.Input fluid icon='inbox' type='number' onFocus label='Enter OTP' iconPosition='left' placeholder='OTP code' name='otp' />\r\n\r\n                                    <Button color='teal' fluid size='large'>\r\n                                        Verify OTP\r\n                                    </Button>\r\n                                </Segment>\r\n                            </Form>\r\n                        </>\r\n                    )}\r\n                </Grid.Column>\r\n            </Grid>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Form, Grid, Header, Image, Message, Segment, Input } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport binImg from '../esmartbin.png';\r\nimport { getAuth, } from 'firebase/auth';\r\nimport axios from 'axios';\r\nimport DonorAuth from '../utils/DonorAuth';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst auth = getAuth();\r\nexport default class DonorSignIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            isError: false,\r\n            errorMsg: '',\r\n            isAuthenticated: false\r\n        };\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await DonorAuth.check();\r\n        this.setState({ isAuthenticated: DonorAuth.getAuth() });\r\n    }\r\n\r\n    loginSubmit = async (e) => {\r\n        e.preventDefault();\r\n        console.log(\"sending log in\");\r\n        this.setState({ isLoading: true });\r\n        let password = e.target.password.value;\r\n        let phone = e.target.phone.value;\r\n        let newPhone = phone.trim();\r\n        newPhone = newPhone.slice(1, newPhone.length);\r\n        newPhone = '+27' + newPhone.trim();\r\n        const user = auth.currentUser;\r\n        console.log(user);\r\n        if (user !== null) {\r\n            const firebasePhone = user.phoneNumber;\r\n            if (newPhone !== '+27') {\r\n                console.log(newPhone);\r\n                if (newPhone === firebasePhone) {\r\n                    let body = { phone: newPhone, password }\r\n                    axios.post('/donor/signin', body).then(async response => {\r\n                        const data = response.data;\r\n                        console.log(data);\r\n                        if (data.auth) {\r\n                            window.localStorage.setItem('sudo', data.token);\r\n                            this.setState({ isLoading: false, isAuthenticated: true });\r\n                        } else {\r\n                            this.setState({ isLoading: false, isError: true, errorMsg: 'You password or phone number is incorrect' });\r\n                        }\r\n                    });\r\n                } else {\r\n                    console.log('phone not found in firebase');\r\n                    this.setState({ isLoading: false, isError: true, errorMsg: 'There is no account linked with this phone number' });\r\n                }\r\n            } else {\r\n                this.setState({ isLoading: false, isError: true, errorMsg: 'Please enter your password and phone number' });\r\n                console.log('please enter phone');\r\n            }\r\n        } else if (!password && !phone) {\r\n            this.setState({ isLoading: false, isError: true, errorMsg: 'Please enter your password and phone number' });\r\n        } else {\r\n\r\n            let body = { phone: newPhone, password }\r\n            axios.post('/donor/signin', body).then(async response => {\r\n                const data = response.data;\r\n                console.log(data);\r\n                if (data.auth) {\r\n                    window.localStorage.setItem('sudo', data.token);\r\n                    this.setState({ isLoading: false, isAuthenticated: true });\r\n                } else {\r\n                    this.setState({ isLoading: false, isError: true, errorMsg: data.reason });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isAuthenticated } = this.state;\r\n        if (isAuthenticated) {\r\n            return <Redirect to='/donor/app' />\r\n        }\r\n        return (\r\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n                <Grid.Column style={{ maxWidth: 450 }}>\r\n                    <Header as='h2' color='teal' textAlign='center'>\r\n                        <Image src={binImg} /> Sign-in as a donor\r\n                    </Header>\r\n                    <Form size='large' onSubmit={this.loginSubmit} >\r\n                        <Segment stacked>\r\n                            <Form.Input fluid icon='lock' type='password' autoComplete='false' iconPosition='left' placeholder='Password' name='password' />\r\n                            <Input label='+27' fluid type='text' autoComplete='false' placeholder='Phone' name='phone' pattern='[0-9]{10}' title='example: 0622635825' />\r\n                            <div style={{ paddingTop: '5%' }}></div>\r\n                            <Button loading={this.state.isLoading} id='sendCode' color='teal' fluid size='large' type='submit'>\r\n                                Sign In\r\n                            </Button>\r\n                        </Segment>\r\n                    </Form>\r\n                    {!this.state.isError ? ('') : (\r\n                        <Message attached='bottom' negative>\r\n                            {this.state.errorMsg}\r\n                        </Message>\r\n                    )}\r\n                    <Message>\r\n                        New to us? <a href='/#/donor/register'>Sign Up</a>\r\n                    </Message>\r\n                </Grid.Column>\r\n            </Grid>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Form, Grid, Header, Image, Message, Segment, Input } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport binImg from '../esmartbin.png';\r\nimport { getAuth, } from 'firebase/auth';\r\nimport axios from 'axios';\r\nimport CollectorAuth from '../utils/CollectorAuth';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst auth = getAuth();\r\nexport default class CollectorSignIn extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            isError: false,\r\n            errorMsg: '',\r\n            isAuthenticated: false\r\n        };\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await CollectorAuth.check();\r\n        this.setState({ isAuthenticated: CollectorAuth.getAuth() });\r\n    }\r\n\r\n    loginSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ isLoading: true });\r\n        let password = e.target.password.value;\r\n        let phone = e.target.phone.value;\r\n        let newPhone = phone.trim();\r\n        newPhone = newPhone.slice(1, newPhone.length);\r\n        newPhone = '+27' + newPhone.trim();\r\n        const user = auth.currentUser;\r\n        if (user !== null) {\r\n            const firebasePhone = user.phoneNumber;\r\n\r\n            if (newPhone !== '+27') {\r\n                console.log(newPhone);\r\n                if (newPhone === firebasePhone) {\r\n                    let body = { phone: newPhone, password }\r\n                    axios.post('/collector/signin', body).then(async response => {\r\n                        const data = response.data;\r\n                        console.log(data);\r\n                        if (data.auth) {\r\n                            window.localStorage.setItem('cid', data.token);\r\n                            this.setState({ isLoading: false, isAuthenticated: true });\r\n\r\n                        } else {\r\n                            this.setState({ isLoading: false, isError: true, errorMsg: 'You password or phone number is incorrect' });\r\n                        }\r\n                    });\r\n                } else {\r\n                    console.log('phone not found in firebase');\r\n                    this.setState({ isLoading: false, isError: true, errorMsg: 'There is no account linked with this phone number' });\r\n                }\r\n            } else {\r\n                this.setState({ isLoading: false, isError: true, errorMsg: 'Please enter your password and phone number' });\r\n                console.log('please enter phone');\r\n            }\r\n        } else if (!password && !phone) {\r\n            this.setState({ isLoading: false, isError: true, errorMsg: 'Please enter your password and phone number' });\r\n        } else {\r\n            let body = { phone: newPhone, password }\r\n            axios.post('/collector/signin', body).then(async response => {\r\n                const data = response.data;\r\n                if (data.auth) {\r\n                    window.localStorage.setItem('cid', data.token);\r\n                    this.setState({ isLoading: false, isAuthenticated: true });\r\n                } else {\r\n                    this.setState({ isLoading: false, isError: true, errorMsg: data.reason });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isAuthenticated } = this.state;\r\n        if (isAuthenticated) {\r\n            return <Redirect to='/collector/app' />\r\n        }\r\n        return (\r\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n                <Grid.Column style={{ maxWidth: 450 }}>\r\n                    <Header as='h2' color='teal' textAlign='center'>\r\n                        <Image src={binImg} /> Sign-in as a collector\r\n                    </Header>\r\n                    <Form size='large' onSubmit={this.loginSubmit} >\r\n                        <Segment stacked>\r\n                            <Form.Input fluid icon='lock' type='password' autoComplete='false' iconPosition='left' placeholder='Password' name='password' />\r\n                            <Input label='+27' fluid type='text' autoComplete='false' placeholder='Phone' name='phone' pattern='[0-9]{10}' title='example: 0622635825' />\r\n                            <div style={{ paddingTop: '5%' }}></div>\r\n                            <Button loading={this.state.isLoading} id='sendCode' color='teal' fluid size='large' type='submit'>\r\n                                Sign In\r\n                            </Button>\r\n                        </Segment>\r\n                    </Form>\r\n                    {!this.state.isError ? ('') : (\r\n                        <Message attached='bottom' negative>\r\n                            {this.state.errorMsg}\r\n                        </Message>\r\n                    )}\r\n                    <Message>\r\n                        New to us? <a href='/#/collector/register'>Sign Up</a>\r\n                    </Message>\r\n                </Grid.Column>\r\n            </Grid>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport { Button, Form, Grid, Header, Image, Segment, Input, } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport binImg from '../esmartbin.png';\r\nimport { getAuth, signInWithPhoneNumber, RecaptchaVerifier } from 'firebase/auth';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router';\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyC6G46Jang8fkPnhYUI6UVvI6G8FjcQ44A\",\r\n    authDomain: \"esmart-e6ed0.firebaseapp.com\",\r\n    projectId: \"esmart-e6ed0\",\r\n    storageBucket: \"esmart-e6ed0.appspot.com\",\r\n    messagingSenderId: \"1027784695916\",\r\n    appId: \"1:1027784695916:web:5b16914c3325133b607849\"\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\nconst auth = getAuth();\r\nexport default class CollectorSignUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            viewOtpForm: false,\r\n            collectorName: '',\r\n            collectorLastName: '',\r\n            collectorPassword: '',\r\n            collectorPhoneNumber: '',\r\n            isAuthenticated: false\r\n        };\r\n    };\r\n\r\n\r\n\r\n    loginSubmit = (e) => {\r\n        e.preventDefault();\r\n        window.recaptchaVerifier = new RecaptchaVerifier('sendCode', {\r\n            'size': 'invisible',\r\n            'callback': (response) => {\r\n                // reCAPTCHA solved, allow signInWithPhoneNumber.\r\n                // onSignInSubmit();\r\n                console.log(response);\r\n            }\r\n        }, auth);\r\n\r\n        let firstName = e.target.firstName.value;\r\n        let lastName = e.target.lastName.value;\r\n        let password = e.target.password.value;\r\n        let phoneNumber = e.target.phone.value;\r\n        let newPhone = phoneNumber.trim();\r\n        newPhone = newPhone.slice(1, newPhone.length);\r\n        newPhone = '+27' + newPhone.trim();\r\n        const appVerifier = window.recaptchaVerifier;\r\n\r\n        signInWithPhoneNumber(auth, newPhone, appVerifier).then(confirmationResult => {\r\n            this.setState({ viewOtpForm: true, collectorName: firstName, collectorLastName: lastName, collectorPassword: password, collectorPhoneNumber: newPhone });\r\n            window.confirmationResult = confirmationResult;\r\n        }).catch(error => {\r\n            alert(error.message);\r\n        });\r\n    }\r\n\r\n    otpSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { collectorName, collectorLastName, collectorPassword, collectorPhoneNumber } = this.state;\r\n        let optCode = e.target.otp.value;\r\n        window.confirmationResult.confirm(optCode).then(confirmationResult => {\r\n            let body = {\r\n                firstName: collectorName,\r\n                lastName: collectorLastName,\r\n                password: collectorPassword,\r\n                phoneNumber: collectorPhoneNumber\r\n            }\r\n            axios.post('/create/collector/account', body).then(response => {\r\n                if (response.data.isCreated) {\r\n                    this.setState({ isAuthenticated: true });\r\n                }\r\n            })\r\n        }).catch(error => {\r\n            alert(error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { viewOtpForm, isAuthenticated } = this.state;\r\n        if (isAuthenticated) {\r\n            return <Redirect to='/collector/signin' />\r\n        }\r\n        return (\r\n            <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n                <Grid.Column style={{ maxWidth: 450 }}>\r\n                    <Header as='h2' color='teal' textAlign='center'>\r\n                        <Image src={binImg} /> Register as a collector\r\n                    </Header>\r\n                    {!viewOtpForm ? (\r\n                        <>\r\n                            <Form size='large' onSubmit={this.loginSubmit} >\r\n                                <Segment stacked>\r\n                                    <Form.Input fluid icon='user' type='text' autoComplete='false' iconPosition='left' placeholder='First name' name='firstName' />\r\n                                    <Form.Input fluid icon='user' type='text' autoComplete='false' iconPosition='left' placeholder='Last name' name='lastName' />\r\n                                    <Form.Input fluid icon='lock' type='password' autoComplete='false' iconPosition='left' placeholder='Password' name='password' />\r\n                                    <Input label='+27' fluid type='text' autoComplete='false' placeholder='Phone' name='phone' pattern='[0-9]{10}' title='example: 0622635825' />\r\n                                    <div style={{ paddingTop: '5%' }}></div>\r\n                                    <Button id='sendCode' color='teal' fluid size='large' type='submit'>\r\n                                        SignUp\r\n                                    </Button>\r\n                                </Segment>\r\n                            </Form>\r\n                            {/* <Message>\r\n                                New to us? <a href='#'>Sign Up</a>\r\n                            </Message> */}\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Form size='large' onSubmit={this.otpSubmit}>\r\n                                <Segment stacked>\r\n                                    <Form.Input fluid icon='inbox' type='number' onFocus label='Enter OTP' iconPosition='left' placeholder='OTP code' name='otp' />\r\n\r\n                                    <Button color='teal' fluid size='large'>\r\n                                        Verify OTP\r\n                                    </Button>\r\n                                </Segment>\r\n                            </Form>\r\n                        </>\r\n                    )}\r\n                </Grid.Column>\r\n            </Grid>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Switch, Route, Redirect, HashRouter } from \"react-router-dom\";\r\nimport Home from './home/Home';\r\nimport DonorHomeScreen from './donor/DonorHomeScreen';\r\nimport CollectorHomeScreen from './collector/CollectorHomeScreen';\r\nimport DonorAuth from './utils/DonorAuth';\r\nimport CollectorAuth from './utils/CollectorAuth';\r\nimport DonorLogin from './components/DonorLogin';\r\nimport DonorSignIn from './components/DonorSignIn';\r\nimport CollectorSignIn from './components/CollectorSignIn';\r\nimport CollectorSignUp from './components/CollectorSignUp';\r\n\r\nexport default class Router extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <HashRouter>\r\n                    <Switch>\r\n                        <DonorPrivateRoute path='/donor/app' component={DonorHomeScreen} />\r\n                        <CollectorPrivateRoute path='/collector/app' component={CollectorHomeScreen} />\r\n                        <Route path='/donor/register' component={DonorLogin} />\r\n                        <Route path='/donor/signin' component={DonorSignIn} />\r\n                        <Route path='/collector/signin' component={CollectorSignIn} />\r\n                        <Route path='/collector/register' component={CollectorSignUp} />\r\n                        <Route path='/' component={Home} />\r\n                    </Switch>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst DonorPrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            DonorAuth.getAuth() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/donor/signin\"\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nconst CollectorPrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            CollectorAuth.getAuth() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/collector/signin\"\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n","// import \"./App.scss\";\r\nimport React from \"react\";\r\nimport Router from \"./Router\";\r\n\r\nexport default class App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Router />\r\n    );\r\n  }\r\n}","import App from \"./App\";\r\nimport ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <App />\r\n</React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}